<launch>
    <arg name="rname" default="go1"/>
    <arg name="wname" default="my_world"/>
    <arg name="rviz"       default="true"/>
    <arg name="base_frame" default="base"/>
    <arg name="odom_frame" default="odom"/>
    <arg name="map_frame" default="map"/>
    <arg name="use_teb" default="false"/>
    <arg name="clicked_point" default="clicked_point"/>
    <arg name="move_base_result" default="move_base/result"/>
    <param name="map_min_x" value="-10.0"/>
    <param name="map_max_x" value="10.0"/>
    <param name="map_min_y" value="-10.0"/>
    <param name="map_max_y" value="10.0"/>


    <node pkg="unitree_move_base" type="move_base_goal.py" name="move_base_goal" output="screen"/>
    <!-- <node pkg="unitree_move_base" type="move_obj_2.py" name="move_obj_2" output="screen"/>

     <group ns="$(arg rname)"> -->
        <!-- Map server -->
        <arg name="map_file" default="$(find unitree_navigation)/maps/$(arg wname).yaml"/>
        <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)" >
            <param name="frame_id" value="map" />
        </node>

        <!-- AMCL used for localization -->
        <include file="$(find unitree_navigation)/launch/navigation/my_amcl.launch">
            <!-- <arg name="frame_prefix" value="$(arg frame_prefix)"/> -->
            <arg name="base_frame" value="$(arg base_frame)"/>
            <arg name="odom_frame" value="$(arg odom_frame)"/>
            <arg name="scan" value="/scan"/>
        </include>
        
        <!-- Calls navigation stack packages -->
        <include file="$(find unitree_move_base)/launch/my_move_base.launch">
            <param name="base_global_planner" value="global_planner/GlobalPlanner" />
            <param name="planner_frequency" value="1.0" />
            <param name="planner_patience" value="5.0" />

            <param name="base_local_planner" value="teb_local_planner/TebLocalPlannerROS" />
            <param name="controller_frequency" value="5.0" />
            <param name="controller_patience" value="15.0" /> 
            <!--<arg name="rname"   value="$(arg rname)"/>-->
        </include>

        <node if="$(arg rviz)" pkg="rviz" type="rviz" name="rviz"
            args="-d $(find unitree_navigation)/rviz/slamware_teb.rviz"/> 

    <!-- </group> -->
</launch>
